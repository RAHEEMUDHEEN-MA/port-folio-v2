/**
 * Console Mode Styling
 * Terminal-style interface with theme-aware colors
 */

.console-mode {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 10000;
  display: none;
  background-color: rgba(0, 0, 0, 0.85);
  backdrop-filter: blur(4px);
  overflow: hidden; // Prevent background scroll

  &[data-visible="true"] {
    display: flex;
    align-items: center;
    justify-content: center;
    animation: console-fade-in 0.2s ease-out;
  }

  &[data-visible="false"] {
    animation: console-fade-out 0.2s ease-out;
  }
}

.console-content {
  width: 90%;
  max-width: 1200px;
  height: 80%;
  max-height: 800px;
  background-color: var(--console-bg, #1a1a1a);
  border: 1px solid var(--console-border, #333);
  border-radius: 8px;
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
  display: flex;
  flex-direction: column;
  overflow: hidden;
  font-family: 'Courier New', 'Consolas', 'Monaco', monospace;
  font-size: 14px;
  line-height: 1.5;
  color: var(--console-text, #e0e0e0);

  @media (max-width: 768px) {
    width: 95%;
    height: 90%;
    font-size: 13px;
  }

  @media (max-width: 480px) {
    width: 100%;
    height: 100%;
    border-radius: 0;
    font-size: 12px;
  }
}

.console-output {
  flex: 1;
  overflow-y: auto;
  padding: 20px;
  background-color: var(--console-bg, #1a1a1a);

  &::-webkit-scrollbar {
    width: 8px;
  }

  &::-webkit-scrollbar-track {
    background: var(--console-scrollbar-track, #2a2a2a);
  }

  &::-webkit-scrollbar-thumb {
    background: var(--console-scrollbar-thumb, #444);
    border-radius: 4px;

    &:hover {
      background: var(--console-scrollbar-thumb-hover, #555);
    }
  }
}

.console-line {
  margin-bottom: 8px;
  white-space: pre-wrap;
  word-wrap: break-word;

  &.console-command {
    color: var(--console-command, #4a9eff);
    font-weight: 500;
  }

  &.console-output {
    color: var(--console-text, #e0e0e0);
  }

  &.console-error {
    color: var(--console-error, #ff6b6b);
  }
}

.console-input-area {
  display: flex;
  align-items: center;
  padding: 16px 20px;
  background-color: var(--console-input-bg, #222);
  border-top: 1px solid var(--console-border, #333);
}

.console-prompt {
  color: var(--console-prompt, #4a9eff);
  font-weight: 600;
  margin-right: 8px;
  flex-shrink: 0;
  user-select: none;
}

.console-input {
  flex: 1;
  background: transparent;
  border: none;
  outline: none;
  color: var(--console-text, #e0e0e0);
  font-family: inherit;
  font-size: inherit;
  caret-color: var(--console-caret, #4a9eff);

  &::selection {
    background-color: var(--console-selection, rgba(74, 158, 255, 0.3));
  }
}

// Theme-aware color variables
[data-theme="light"] {
  --console-bg: #f5f5f5;
  --console-input-bg: #ebebeb;
  --console-border: #d0d0d0;
  --console-text: #2a2a2a;
  --console-command: #0066cc;
  --console-prompt: #0066cc;
  --console-error: #d32f2f;
  --console-caret: #0066cc;
  --console-selection: rgba(0, 102, 204, 0.2);
  --console-scrollbar-track: #e0e0e0;
  --console-scrollbar-thumb: #999;
  --console-scrollbar-thumb-hover: #777;
}

[data-theme="dark"],
:root {
  --console-bg: #1a1a1a;
  --console-input-bg: #222;
  --console-border: #333;
  --console-text: #e0e0e0;
  --console-command: #4a9eff;
  --console-prompt: #4a9eff;
  --console-error: #ff6b6b;
  --console-caret: #4a9eff;
  --console-selection: rgba(74, 158, 255, 0.3);
  --console-scrollbar-track: #2a2a2a;
  --console-scrollbar-thumb: #444;
  --console-scrollbar-thumb-hover: #555;
}

// Animations
@keyframes console-fade-in {
  from {
    opacity: 0;
  }

  to {
    opacity: 1;
  }
}

@keyframes console-fade-out {
  from {
    opacity: 1;
  }

  to {
    opacity: 0;
  }
}

// Accessibility
@media (prefers-reduced-motion: reduce) {
  .console-mode {
    animation: none !important;
  }
}

// High contrast mode support
@media (prefers-contrast: high) {
  .console-content {
    border-width: 2px;
  }

  .console-line.console-error {
    font-weight: 600;
  }
}